<!DOCTYPE HTML>
<html>
<head>
    <title>Backbone Test Suite</title>
    <link rel="stylesheet" href="vendor/qunit.css" type="text/css" media="screen"/>
    <script type="text/javascript" src="vendor/json2.js"></script>
    <script type="text/javascript" src="vendor/qunit.js"></script>
    <script type="text/javascript" src="vendor/require.js"></script>
    <script>
        // Tests are loaded async, so wait for them
        // to load before starting.
        QUnit.config.autostart = false;

        require.config({
            paths: {
                'es5': '../src/es5',
                'underscore': '../src/underscore',
                'backbone': '../src/backbone'
            }
        });

        var root = this;

        require([
            'backbone/Model',
            'backbone/Events/on',
            'backbone/Events/off',
            'backbone/Events/trigger',
            'backbone/Events/listenTo',
            'backbone/Events/listenToOnce',
            'backbone/Events/once',
            'backbone/Events/stopListening',
            'underscore/collections/size',
            'underscore/functions/debounce',
            'underscore/objects/extend',
            'underscore/objects/keys'
        ], function (Model, on, off, trigger, listenTo, listenToOnce, once, stopListening, size, debounce, extend,
                     keys) {

            window.Backbone = {
                Model: Model,
                Events: {
                    on: on,
                    off: off,
                    trigger: trigger,
                    listenTo: listenTo,
                    listenToOnce: listenToOnce,
                    once: once,
                    stopListening: stopListening
                }
            };

            window._ = {
                size: size,
                debounce: debounce,
                extend: extend,
                keys: keys
            };

            _.extend(window.Backbone, window.Backbone.Events);

            require([
                'environment',
                'events',
//                'model',
//                'collection',
//                'router',
//                'view',
//                'sync'
            ], function () {
                QUnit.start();
            });
        });
    </script>
</head>
<body>
<div id="qunit"></div>
<div id="qunit-fixture">
    <div id='testElement'>
        <h1>Test</h1>
    </div>
</div>
</body>
</html>
